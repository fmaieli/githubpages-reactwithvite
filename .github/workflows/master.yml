name: Ejecutar Script al hacer Push en Master

on:
  push:
    branches:
      - master

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Setup Git
        env:
          # Configura estas variables de entorno con los valores correspondientes
          # de tus secretos de GitHub
          GITHUB_TOKEN: ${{ secrets.GIT_TOKEN }}
          GIT_USER_NAME: ${{ secrets.GIT_USER_NAME }}
          GIT_USER_EMAIL: ${{ secrets.GIT_USER_EMAIL }}
        run: |
          git config --local user.name "${GIT_USER_NAME}"
          git config --local user.email "${GIT_USER_EMAIL}"
      - name: Make predeploy.sh executable
        run: chmod +x predeploy.sh
      - name: Run predeploy.sh
        run: ./predeploy.sh
